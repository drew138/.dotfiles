---
- name: Setup workstation
  hosts: localhost
  gather_facts: true
  vars_files:
    - ~/extra_vars.yml
  tasks:
    - name: Include roles
      ansible.builtin.include_role:
        name: "{{ role }}"
      loop: "{{ selected_roles }}"
      loop_control:
        loop_var: role

  handlers:
    - name: Open security settings
      ansible.builtin.command: >
        open "x-apple.systempreferences:com.apple.preference.security"
      changed_when: false
