config-version                                                  = 2
# after-startup-command                                           = []
start-at-login                                                  = false
# Normalizations. See: https://nikitabobko.github.io/AeroSpace/guide#normalization
enable-normalization-flatten-containers                         = true
enable-normalization-opposite-orientation-for-nested-containers = true
# See: https://nikitabobko.github.io/AeroSpace/guide#layouts
# The 'accordion-padding' specifies the size of accordion padding
# You can set 0 to disable the padding feature
accordion-padding                                               = 0
# Possible values: tiles|accordion
default-root-container-layout                                   = "tiles"
# Possible values: horizontal|vertical|auto
# 'auto' means: wide monitor (anything wider than high) gets horizontal orientation,
#               tall monitor (anything higher than wide) gets vertical orientation
default-root-container-orientation                              = "auto"
# Mouse follows focus when focused monitor changes
# Drop it from your config, if you don't like this behavior
# See https://nikitabobko.github.io/AeroSpace/guide#on-focus-changed-callbacks
# See https://nikitabobko.github.io/AeroSpace/commands#move-mouse
# Fallback value (if you omit the key): on-focused-monitor-changed = []
on-focused-monitor-changed                                      = [
  "move-mouse monitor-lazy-center"
]
automatically-unhide-macos-hidden-apps                          = false
exec-on-workspace-change                                        = [
  "/bin/bash",
  "-c",
  "sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE PREV_WORKSPACE=$AEROSPACE_PREV_WORKSPACE && ~/.config/sketchybar/plugins/update_workspace_icons.sh"
]

[key-mapping]
  preset = "qwerty"

[gaps]
  inner.horizontal = 10
  inner.vertical   = 10
  outer.left       = 10
  outer.bottom     = 10
  outer.top        = [{ monitor.main = 50 }, 50]
  outer.right      = 10

[mode.main.binding]
  # App shortcuts
  # See: https://nikitabobko.github.io/AeroSpace/commands#layout
  alt-slash           = "layout tiles horizontal vertical"
  alt-comma           = "layout accordion horizontal vertical"
  # See: https://nikitabobko.github.io/AeroSpace/commands#focus
  alt-h               = "focus left"
  alt-j               = "focus down"
  alt-k               = "focus up"
  alt-l               = "focus right"
  # See: https://nikitabobko.github.io/AeroSpace/commands#move
  alt-shift-h         = "move left"
  alt-shift-j         = "move down"
  alt-shift-k         = "move up"
  alt-shift-l         = "move right"
  # See: https://nikitabobko.github.io/AeroSpace/commands#resize
  alt-minus           = "resize smart -50"
  alt-equal           = "resize smart +50"
  # See: https://nikitabobko.github.io/AeroSpace/commands#workspace
  alt-1               = [
    "workspace 1",
    "exec-and-forget open -a /Applications/Wezterm.app"
  ]
  alt-2               = [
    "workspace 2",
    "exec-and-forget open -a /Applications/Google Chrome.app"
  ]
  alt-3               = [
    "workspace 3",
    "exec-and-forget open -a /Applications/Slack.app"
  ]
  alt-q               = [
    "workspace 4",
    "exec-and-forget open -a /Applications/Postman.app"
  ]
  alt-w               = [
    "workspace 5",
    "exec-and-forget open -a /Applications/Notion.app"
  ]
  alt-e               = [
    "workspace 6",
    "exec-and-forget open -a /Applications/Bitwarden.app"
  ]
  alt-4               = "workspace 7"
  # See: https://nikitabobko.github.io/AeroSpace/commands#move-node-to-workspace
  alt-shift-1         = "move-node-to-workspace 1"
  alt-shift-2         = "move-node-to-workspace 2"
  alt-shift-3         = "move-node-to-workspace 3"
  alt-shift-q         = "move-node-to-workspace 4"
  alt-shift-w         = "move-node-to-workspace 5"
  alt-shift-e         = "move-node-to-workspace 6"
  alt-shift-4         = "move-node-to-workspace 7"
  # See: https://nikitabobko.github.io/AeroSpace/commands#workspace-back-and-forth
  alt-ctrl-6          = "workspace-back-and-forth"
  # See: https://nikitabobko.github.io/AeroSpace/commands#move-workspace-to-monitor
  alt-shift-tab       = "move-workspace-to-monitor --wrap-around next"
  # See: https://nikitabobko.github.io/AeroSpace/commands#mode
  alt-shift-semicolon = "mode service"

# 'service' binding mode declaration.
# See: https://nikitabobko.github.io/AeroSpace/guide#binding-modes
[mode.service.binding]
  esc         = ["reload-config", "mode main"]
  r           = ["flatten-workspace-tree", "mode main"]  # reset layout
  f           = [
    "layout floating tiling",
    "mode main"
  ]  # Toggle between floating and tiling layout
  backspace   = ["close-all-windows-but-current", "mode main"]
  alt-shift-h = ["join-with left", "mode main"]
  alt-shift-j = ["join-with down", "mode main"]
  alt-shift-k = ["join-with up", "mode main"]
  alt-shift-l = ["join-with right", "mode main"]

[[on-window-detected]]
  if.app-id = "com.github.wez.wezterm"
  run       = "move-node-to-workspace 1"

[[on-window-detected]]
  if.app-id = "com.google.Chrome"
  run       = "move-node-to-workspace 2"

[[on-window-detected]]
  if.app-id = "com.tinyspeck.slackmacgap"
  run       = "move-node-to-workspace 3"

[[on-window-detected]]
  if.app-id = "com.postmanlabs.mac"
  run       = "move-node-to-workspace 4"

[[on-window-detected]]
  if.app-id = "notion.id"
  run       = "move-node-to-workspace q"

[[on-window-detected]]
  if.app-id = "com.bitwarden.desktop"
  run       = "move-node-to-workspace w"

[[on-window-detected]]
  if.app-id = "com.apple.finder"
  run       = "layout floating"

[[on-window-detected]]
  if.app-id = "com.apple.ActivityMonitor"
  run       = "layout floating"

[[on-window-detected]]
  if.app-id = "com.apple.systempreferences"
  run       = "layout floating"

[[on-window-detected]]
  if.window-title-regex-substring = ".*"
  run                             = ["workspace e", "move-node-to-workspace e"]

[workspace-to-monitor-force-assignment]
  1 = "main"
  2 = "seconary"
  3 = "secondary"
  4 = "secondary"
  q = "secondary"
  w = "main"
  e = "main"
